(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6544],{91296:function(e,t,r){var i=0/0,s=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,o=parseInt,c="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,d="object"==typeof self&&self&&self.Object===Object&&self,u=c||d||Function("return this")(),m=Object.prototype.toString,x=Math.max,h=Math.min,p=function(){return u.Date.now()};function f(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==m.call(t))return i;if(f(e)){var t,r="function"==typeof e.valueOf?e.valueOf():e;e=f(r)?r+"":r}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var c=a.test(e);return c||l.test(e)?o(e.slice(2),c?2:8):n.test(e)?i:+e}e.exports=function(e,t,r){var i,s,n,a,l,o,c=0,d=!1,u=!1,m=!0;if("function"!=typeof e)throw TypeError("Expected a function");function v(t){var r=i,n=s;return i=s=void 0,c=t,a=e.apply(n,r)}function y(e){var r=e-o,i=e-c;return void 0===o||r>=t||r<0||u&&i>=n}function j(){var e,r,i,s=p();if(y(s))return b(s);l=setTimeout(j,(e=s-o,r=s-c,i=t-e,u?h(i,n-r):i))}function b(e){return(l=void 0,m&&i)?v(e):(i=s=void 0,a)}function w(){var e,r=p(),n=y(r);if(i=arguments,s=this,o=r,n){if(void 0===l)return c=e=o,l=setTimeout(j,t),d?v(e):a;if(u)return l=setTimeout(j,t),v(o)}return void 0===l&&(l=setTimeout(j,t)),a}return t=g(t)||0,f(r)&&(d=!!r.leading,n=(u="maxWait"in r)?x(g(r.maxWait)||0,t):n,m="trailing"in r?!!r.trailing:m),w.cancel=function(){void 0!==l&&clearTimeout(l),c=0,i=o=s=l=void 0},w.flush=function(){return void 0===l?a:b(p())},w}},66117:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/explore",function(){return r(62819)}])},46894:function(e,t,r){"use strict";var i=r(85893),s=r(3436),n=r(14323),a=r(41664),l=r.n(a),o=r(66587),c=r(67294),d=r(11163),u=r(21469),m=r(6869),x=r(91173),h=r(27023),p=r(24831),f=r(82099),g=r(67091);let v=e=>{var t;let{chatbot:r,withFooter:a}=e,{isSignedIn:v}=(0,g.Z)();(0,d.useRouter)();let[y,j]=(0,m.Z)(),{isMobile:b}=(0,x.Z)(),w=(0,c.useMemo)(()=>{var e;return(0,o.J6)({requestingUserAuthenticated:v,boosted:r.boosted,model:null!==(t=null===(e=r.config)||void 0===e?void 0:e.data.model)&&void 0!==t?t:""})},[r,v]),N=(0,c.useMemo)(()=>r.description?r.description:r.isOwner?r.creationPrompt:"",[r]),k=(0,c.useMemo)(()=>!!a&&(!!w||!!r.isOwner||!!r.isService||!!r.createdByUsername),[a,w,r.isOwner,r.isService,r.createdByUsername]),C=(0,c.useMemo)(()=>!!a&&!!b&&(!!w||!!r.isOwner||!!r.isService||!!r.createdByUsername),[a,w,r.isOwner,r.isService,r.createdByUsername,b]),[S,Z]=(0,c.useState)(!1);return(0,i.jsxs)("div",{ref:y,className:(0,n.cn)("rounded-lg group","border","shadow-sm","bg-white border-border-light","dark:bg-primary-800 dark:border-border-dark","relative"),children:[w&&(0,i.jsx)("div",{className:"absolute top-0 left-0 p-1",onClick:e=>{e.preventDefault()},children:(0,i.jsx)("div",{className:"flex",children:(0,i.jsx)(o.SU,{label:w,hasSeenDisclaimer:!0,setHasSeenDisclaimer:()=>{},openDialog:S,setOpenDialog:Z,className:(0,n.cn)("rounded p-[0.1rem]","transition ease-in-out duration-200 active:bg-primary-800 hover:bg-primary-800 ","text-orange-600 hover:text-orange-500"),children:"login"===w?(0,i.jsx)(f.Z,{small:!0}):"boosted"===w?(0,i.jsx)(h.Z,{small:!0}):"premium"===w&&(0,i.jsx)(p.Z,{small:!0})})})}),(0,i.jsx)(l(),{href:(0,n.cb)({id:r.id,username:r.createdByUsername,slug:r.slug}),children:(0,i.jsx)(s.Z,{disabled:!r.description,delayDuration:50,content:r.description,className:"bg-white dark:bg-black max-w-lg",children:(0,i.jsxs)(u.E.button,{animate:k||C?{borderBottomLeftRadius:j||C?"0rem":"0.5rem",borderBottomRightRadius:j||C?"0rem":"0.5rem"}:{},className:(0,n.cn)("w-[9.8rem] h-[8.1rem]","p-2",k||C?"rounded-t-lg":"rounded-lg","flex flex-col items-center gap-1","select-none","transition duration-200 ease-in-out"),children:[(0,i.jsx)("div",{className:"rounded-full h-12 w-12 bg-primary-700 flex items-center justify-center text-2xl",children:r.emoji}),(0,i.jsx)("div",{className:(0,n.cn)("max-w-[8.8rem]","text-center text-sm font-semibold line-clamp-1 overflow-hidden"),children:r.name}),(0,i.jsx)("div",{className:(0,n.cn)("max-w-[8.8rem]","text-xs text-left w-full text-primary-500 line-clamp-2"),children:N})]})})})]})};t.Z=v},42889:function(e,t,r){"use strict";r.d(t,{ZP:function(){return j},$O:function(){return w}});var i=r(85893),s=r(67294),n=r(21469),a=r(73069),l=r(14323),o=r(94772),c=r(8275),d=r(20220),u=r(3436);let m=e=>{let{chatbot:t,openDialog:r,setOpenDialog:s,className:a,mutate:o,...m}=e;return(0,i.jsxs)(c.Vq,{open:r,onOpenChange:e=>s(e),children:[(0,i.jsx)("div",{className:"flex items-center justify-center ",children:(0,i.jsx)(c.hg,{className:(0,l.cn)(a),children:(0,i.jsx)(n.E.div,{whileTap:{scale:.95},className:"flex items-center",onClick:m.onClick,children:(0,i.jsx)(u.Z,{content:"Settings",children:(0,i.jsx)("div",{className:(0,l.cn)("p-1 text-gray-700 dark:text-gray-400 hover:text-primary-300 font-bold text-xs rounded-full transition duration-200 ease-in-out",(0,l.uL)()),children:(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:[(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"}),(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})})})})}),(0,i.jsxs)(c.cZ,{className:(0,l.cn)("bg-primary-900","border-none max-w-[90%] md:max-w-[80%] lg:max-w-[70%] xl:max-w-[60%] w-full max-h-[90%] h-full overflow-auto"),children:[(0,i.jsx)(c.$N,{className:"text-xl",children:"Chatbot Settings"}),(0,i.jsx)(d.Z,{type:"popup",chatbot:t,mutate:o,closePopup:()=>s(!1)})]})]})};var x=r(51575);let h=e=>{let{visibility:t}=e,[r,n]=(0,s.useState)(!1),{icon:a,label:l,description:o}=(0,s.useMemo)(()=>x.z[t],[t]);return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:"flex",children:(0,i.jsx)(p,{visibilityInfo:{icon:a,label:l,description:o},openDialog:r,setOpenDialog:n,children:(0,i.jsx)(u.Z,{content:l,delayDuration:50,children:a})})})})},p=e=>{let{visibilityInfo:t,openDialog:r,setOpenDialog:s,className:n,children:a}=e;return(0,i.jsxs)(c.Vq,{open:r,onOpenChange:e=>s(e),children:[(0,i.jsx)("div",{className:"flex items-center justify-center ",children:(0,i.jsx)(c.hg,{className:(0,l.cn)(n),children:a})}),(0,i.jsxs)(c.cZ,{className:(0,l.cn)("max-w-[400px] w-[95%] md:w-full p-4 max-h-[90%] overflow-auto"),children:[(0,i.jsxs)(c.$N,{className:"text-xl flex gap-2 items-center",children:[t.label,t.icon]}),(0,i.jsx)(c.DR,{className:(0,l.cn)("text-primary-300","flex gap-2 flex-grow"),children:t.description})]})]})};var f=r(94804),g=r(24831),v=r(27023);let y=e=>{var t,r,c;let{version:d="expanded",chatbot:u,onChatbotClick:x,setSelectedChatbotId:p,selectedChatbotId:f,mutate:y,hideIcons:j=!1,minimal:N=!1}=e,[k,C]=(0,s.useState)(!1),S=(0,s.useRef)(null),Z=(0,s.useRef)(null);return(0,i.jsxs)(n.E.div,{ref:Z,variants:a.sE,className:"flex items-center w-full gap-2 group/item",children:[(0,i.jsx)("div",{onClick:e=>{var t,r;(null===(t=S.current)||void 0===t?void 0:t.contains(e.target))?e.preventDefault():(null===(r=Z.current)||void 0===r?void 0:r.contains(e.target))&&(null==p||p(u.id),null==x||x(u.id))},className:(0,l.cn)("flex-grow truncate","flex flex-col","rounded-lg ",N?"px-2 py-1":"p-2","transition duration-200 ease-in-out relative group","cursor-pointer",(0,l.uL)(f===u.id)),children:"minimized"===d?(0,i.jsx)("div",{className:"text-xl flex items-center justify-center",children:null!==(t=u.emoji)&&void 0!==t?t:o.$Y}):(0,i.jsxs)("div",{className:(0,l.cn)("flex-grow truncate flex items-center gap-2 overflow-x-hidden cursor-pointer"),children:[(0,i.jsx)("div",{className:"text-xl",children:null!==(r=u.emoji)&&void 0!==r?r:o.$Y}),(0,i.jsx)("div",{className:"w-full flex flex-row truncate",children:(0,i.jsxs)("div",{className:"group-hover:text-primary-0 font-medium line-clamp-1 transition ease-in-out duration-200 flex flex-row items-center gap-1 w-full",children:[(0,i.jsx)("span",{children:null!==(c=u.name)&&void 0!==c?c:"My Chatbot"}),(0,i.jsx)("div",{className:(0,l.cn)("text-primary-500 rounded-full p-1 cursor-pointer","transition ease-in-out duration-200 active:bg-[rgba(0,0,0,0.06)] dark:active:bg-primary-700 hover:bg-[rgba(0,0,0,0.04)] dark:hover:bg-[rgba(255,255,255,0.06)] "),children:w(u)&&(0,i.jsx)(g.Z,{small:!0})})]})})]})}),"expanded"===d&&!j&&(0,i.jsxs)("div",{ref:S,className:(0,l.cn)("group-hover/item:opacity-100 opacity-0","group-hover/item:w-12 w-0","flex items-center justify-end  overflow-x-hidden"),children:[u.isService&&(0,i.jsx)(b,{}),(0,i.jsx)("div",{className:(0,l.cn)("text-gray-700 dark:text-gray-400 rounded-full p-1 cursor-pointer","transition ease-in-out duration-200 active:bg-[rgba(0,0,0,0.06)] dark:active:bg-primary-700 hover:bg-[rgba(0,0,0,0.04)] dark:hover:bg-[rgba(255,255,255,0.06)] "),children:u.isOwner?(0,i.jsx)(h,{visibility:u.visibility}):u.boosted&&(0,i.jsx)(v.Z,{small:!0,withDialog:!0})}),u.isOwner&&(0,i.jsx)(m,{mutate:y,chatbot:u,openDialog:k,setOpenDialog:C})]})]})};var j=y;let b=()=>(0,i.jsx)(u.Z,{content:"Lead Generation Bot",delayDuration:500,children:(0,i.jsx)("div",{className:"text-xs text-orange-600 line-clamp-1 p-1",children:(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 00.75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 00-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0112 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 01-.673-.38m0 0A2.18 2.18 0 013 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 013.413-.387m7.5 0V5.25A2.25 2.25 0 0013.5 3h-3a2.25 2.25 0 00-2.25 2.25v.894m7.5 0a48.667 48.667 0 00-7.5 0M12 12.75h.008v.008H12v-.008z"})})})}),w=e=>e.config&&e.config.data.model!==f.Ef},86506:function(e,t,r){"use strict";var i=r(85893),s=r(35377),n=r(88133),a=r(60117),l=r(14323),o=r(41664),c=r.n(o),d=r(67294),u=r(58533),m=r(95591),x=r(46894),h=r(42889);let p=async e=>{let t=await a.j.authorizedFetch(e),r=await t.json();if(!t.ok||!r){let e=Error("An error occurred while fetching the data.");throw e}return r.chatbots},f=e=>{let{chatbots:t,grid:r,border:s}=e,n=(0,d.useMemo)(()=>t.filter((e,t,r)=>t===r.findIndex(t=>t.id===e.id)),[t]);return(0,i.jsx)("div",{className:(0,l.cn)(r&&"flex flex-wrap gap-2 md:gap-4 pb-8 md:justify-start justify-center"),children:n.map(e=>e?(0,i.jsx)("div",{className:(0,l.cn)(!r&&"py-2",s&&"border-b border-primary-700"),children:(0,i.jsx)(x.Z,{chatbot:e,withFooter:!0})},e.id):null)})},g=e=>{let{url:t,options:r,setSearchLoading:a}=e,{data:o,error:c,size:m,setSize:x,mutate:h,isLoadingMore:g,isReachingEnd:v,isRefreshing:y,isEmpty:j}=(0,n.Z)(t,p,{...r,infinite:"scroll"});return(0,d.useEffect)(()=>{a&&"boolean"==typeof g&&a(g)},[g]),(0,i.jsx)("div",{children:j||c?(0,i.jsx)("p",{className:"text-center text-primary-300",children:"No Chatbots found"}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.Z,{dataLength:o.length,next:()=>x(m+1),hasMore:!v,loader:(0,i.jsx)(i.Fragment,{}),className:"overflow-hidden",children:(0,i.jsx)(f,{chatbots:o,grid:!0})}),!v&&(0,i.jsx)("div",{className:(0,l.cn)("flex justify-center items-center",o.length?"p-4 md:p-8":""),children:g?(0,i.jsx)("div",{className:"py-2",children:(0,i.jsx)(s.Z,{})}):(0,i.jsx)("button",{disabled:g||v,onClick:()=>x(m+1),className:"px-3 py-2 bg-primary-700 hover:bg-primary-650 rounded-lg text-sm transition duration-200 ease-in-out",children:"Load More"})})]})})},v=e=>{let{url:t,children:r}=e,{data:n,error:a,isLoading:l,mutate:o}=(0,m.ZP)(t,p),c=(null==n?void 0:n.length)===0;return l?(0,i.jsx)("div",{className:"flex items-center justify-center p-4",children:(0,i.jsx)(s.Z,{})}):(0,i.jsxs)("div",{children:[c||a||!n?(0,i.jsx)("p",{className:"text-center text-primary-300",children:"No Chatbots found"}):(0,i.jsx)(f,{chatbots:n,grid:!0}),!c&&(0,i.jsx)("div",{children:r})]})},y=e=>{let{isExpanded:t,chatbots:r,onChatbotClick:s,setSelectedChatbotId:n,selectedChatbotId:a,hideIcons:o=!1,mutate:c}=e,d=r.filter((e,t,r)=>t===r.findIndex(t=>t.id===e.id));return(0,i.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1"),children:d.map(e=>e?(0,i.jsx)("div",{children:(0,i.jsx)(h.ZP,{version:t?"expanded":"minimized",mutate:c,onChatbotClick:s,hideIcons:o,setSelectedChatbotId:n,selectedChatbotId:a,chatbot:e,minimal:!0})},e.id):null)})},j=e=>{let{selectedChatbotId:t,setSelectedChatbotId:r,onChatbotClick:a,url:o,options:d,isExpanded:m=!0,createBotButton:x=!0,hideIcons:h=!1,onMutate:g,filterChatbots:v}=e,{data:y,error:j,size:b,setSize:w,mutate:N,isLoadingMore:k,isReachingEnd:C,isRefreshing:S,isEmpty:Z}=(0,n.Z)(o,p,d);return(0,i.jsx)(i.Fragment,{children:Z||j?(0,i.jsx)("div",{className:"flex items-center justify-center",children:x?(0,i.jsx)(c(),{href:"/create",className:"w-full",children:(0,i.jsxs)("button",{className:(0,l.cn)("flex items-center gap-1 w-full rounded-lg","transition duration-200 ease-in-out",(0,l.uL)(),"text-gray-500 hover:text-gray-700 dark:text-gray-400",m?"justify-start p-1":"justify-center px-1 py-2"),children:[(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),m&&"Create Bot"]})}):(0,i.jsx)(i.Fragment,{children:"No Chatbots found."})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.Z,{dataLength:y.length,next:()=>w(b+1),hasMore:!C,loader:(0,i.jsx)(i.Fragment,{}),children:(0,i.jsx)(f.Sidebar,{isExpanded:m,chatbots:v?v(y):y,mutate:()=>{N(),null==g||g()},hideIcons:h,onChatbotClick:a,selectedChatbotId:t,setSelectedChatbotId:r})}),!C&&(0,i.jsx)("div",{className:(0,l.cn)("flex justify-center items-center",y.length&&m?"p-4 md:p-8":"",y.length&&!m?"pt-4":""),children:k?(0,i.jsx)("div",{className:"py-2",children:(0,i.jsx)(s.Z,{})}):(0,i.jsx)("button",{disabled:k||C,onClick:()=>w(b+1),className:(0,l.cn)("relative px-3 py-2 bg-primary-700 hover:bg-primary-650 rounded-lg text-sm transition duration-200 ease-in-out"),children:m?"Load More":(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m6-6H6"})})})})]})})};f.InfiniteScroll=g,f.WithLimit=v,f.Sidebar=y,f.SidebarInfiniteScroll=j,t.Z=f},88133:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var i=r(44593);function s(e,t,r){var s;let n="pageLimit"in r?r.pageLimit:"limit"in r?r.limit:16,{data:a,mutate:l,size:o,setSize:c,isValidating:d,isLoading:u,error:m}=(0,i.ZP)((t,i)=>{if(i&&!i.length)return null;r.offset=0===t?0:t*n,"pageLimit"in r&&(r.limit=n,delete r.pageLimit);let s=e;return Object.entries(r).reduce((t,r,i)=>{let[n,a]=r;return n&&n.length>0&&null!=a&&(s+="".concat(0===i&&"?"===e[e.length-1]?"":"&").concat(n,"=").concat(a)),t},e),s},t),x=a?[].concat(...a):[],h=u||o>0&&a&&void 0===a[o-1],p=!u&&(!a||!a[0]||0===a[0].length),f=p||a&&(null===(s=a[a.length-1])||void 0===s?void 0:s.length)<n,g=d&&a&&a.length===o;return{data:x,isLoadingMore:h,isReachingEnd:f,isRefreshing:g,isEmpty:p,error:m,mutate:l,size:o,setSize:c}}},62819:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return B},default:function(){return E}});var i=r(85893),s=r(95424),n=r(67294),a=r(14323),l=r(86506);let o=e=>{let t,{params:r,userId:s,setSearchLoading:n}=e,{search:a,category:o,type:c}=r;return(0,i.jsx)("div",{className:"",children:(0,i.jsx)(l.Z.InfiniteScroll,{url:(t="/chatbots/search?",a&&(t+="search=".concat(a,"&")),o&&o.length&&(t+="categories=".concat(o.join(","),"&")),c&&(t+="type=".concat(c,"&")),t.endsWith("&")&&(t=t.slice(0,-1)),t),options:{pageLimit:32,userId:s},setSearchLoading:n})})};var c=r(11163),d=r(51526),u=r(21469),m=r(21805),x=r(23735),h=r(35377),p=r(91296),f=r.n(p);let g=e=>{let{router:t,searchTerm:r,setSearchTerm:s,loading:l,setParams:o}=e,c=(0,n.useRef)(null);(0,n.useEffect)(()=>{let e=t.query.search;!e&&c.current.value&&(c.current.value="")},[t.query.search]),(0,n.useEffect)(()=>{o(e=>({...e,search:r,modifiedByUser:!0}))},[r]);let d=(0,n.useMemo)(()=>f()(e=>{s(e.target.value)},300),[]);return(0,n.useEffect)(()=>()=>{d.cancel()}),(0,i.jsx)("div",{className:"flex justify-start items-center",children:(0,i.jsxs)("div",{className:(0,a.cn)("w-full h-10 px-2 border border-primary-600 rounded-lg","focus-within:border-primary-400 text-primary-500 focus-within:text-primary-400","transition duration-200 ease-in-out text-sm flex items-center gap-2 "),children:[(0,i.jsx)(x.jV,{className:"text-inherit"}),(0,i.jsx)("input",{ref:c,maxLength:31,onKeyDown:async e=>{if("Enter"===e.key){let e=c.current.value;s(e),c.current.placeholder=e,c.current.value=""}},className:"w-full bg-transparent focus:ring-0 focus:outline-none placeholder-primary-500 text-primary-0",placeholder:t.query.search?t.query.search:"Search Chatbot ",onChange:e=>{e.target.value.length>3&&d(e)}}),l&&(0,i.jsx)(h.Z,{small:!0})]})})};var v=r(94772),y=r(25675),j=r(25709);let b=e=>{let{category:t,setCategory:r,setParams:s,isMobile:a}=e,l=v.E3,[o,c]=(0,n.useState)(!1),d=(0,y._)(),m=(0,n.useRef)(null),[x,h]=(0,n.useState)(null),[p,f]=(0,n.useState)(null);return((0,n.useEffect)(()=>{m.current&&(h(m.current.offsetHeight),c(!0),f(m.current.offsetHeight),c(!1))},[m]),(0,n.useEffect)(()=>{x&&p&&d.start({scaleY:o?p/x:1})},[o,x,p,d]),(0,n.useEffect)(()=>{s(e=>({...e,category:t,modifiedByUser:!0}))},[t]),a)?(0,i.jsx)(j.ZP,{classNamePrefix:"react-select",isMulti:!0,options:l,placeholder:"Select Category",onChange:e=>{e.length>0&&r(e.map(e=>e.value)),0===e.length&&r([])},value:l.filter(e=>t.includes(e.value)),theme:e=>({...e,fontSize:8,spacing:{...e.spacing,controlHeight:34,baseUnit:3},colors:{...e.colors,primary25:"#3B82F6",primary:"#3B82F6",hover:"red"},height:35,minHeight:35})}):(0,i.jsxs)("div",{className:"group",children:[(0,i.jsx)("div",{className:"font-medium text-primary-50 text-sm pb-2",children:"Category"}),(0,i.jsx)(u.E.div,{ref:m,animate:d,initial:{scaleY:1},className:"flex items-center flex-wrap gap-2",children:v.E3.slice(0,o?v.E3.length:5).map(e=>(0,i.jsx)(q,{onClick:()=>{r(t=>t.includes(e.value)?t.filter(t=>t!==e.value):[...t,e.value])},selected:t.includes(e.value),children:e.label},e.value))}),(0,i.jsx)("div",{className:"opacity-0 group-hover:opacity-100 w-full flex items-center justify-start text-primary-300  pl-1 pt-3 transition-all duration-100 ease-in-out",children:(0,i.jsx)("button",{onClick:()=>c(e=>!e),className:"text-xs flex items-center gap-1 ",children:!o&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-3 h-3",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 5.25l-7.5 7.5-7.5-7.5m15 6l-7.5 7.5-7.5-7.5"})}),"more"]})})})]})},w=e=>{let{params:t,setParams:r,isMobile:s}=e;return s?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h2",{onClick:()=>{r({...t,type:"trending",modifiedByUser:!0})},className:(0,a.cn)("flex items-center px-2 text-base","cursor-pointer hover:text-primary-0 rounded-md ","trending"===t.type?" dark:bg-primary-800 bg-white shadow-sm":" text-primary-300"),children:"Trending"}),(0,i.jsx)("h2",{onClick:()=>{r({...t,type:"featured",modifiedByUser:!0})},className:(0,a.cn)("flex items-center px-2 text-base","cursor-pointer hover:text-primary-0 rounded-md ","featured"===t.type?" dark:bg-primary-800 bg-white shadow-sm":" text-primary-300"),children:"Featured"}),(0,i.jsx)("h2",{onClick:()=>{r({...t,type:"recent",modifiedByUser:!0})},className:(0,a.cn)("flex items-center px-2 text-base","cursor-pointer hover:text-primary-0 rounded-md ","recent"===t.type?" dark:bg-primary-800 bg-white shadow-sm":" text-primary-300"),children:"Recent"})]}):(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"font-medium text-primary-50 text-sm pb-2",children:"Spotlight"}),(0,i.jsxs)("div",{className:"flex items-center flex-wrap gap-2",children:[(0,i.jsx)(q,{selected:t&&"trending"===t.type,onClick:()=>{r({...t,type:"trending",modifiedByUser:!0})},children:"Trending"}),(0,i.jsx)(q,{selected:t&&"featured"===t.type,onClick:()=>{r({...t,type:"featured",modifiedByUser:!0})},children:"Featured"}),(0,i.jsx)(q,{selected:t&&"recent"===t.type,onClick:()=>{r({...t,type:"recent",modifiedByUser:!0})},children:"Recent"})]})]})};var N=r(16137),k=r(91173),C=r(11798);let S=()=>{let{session:e}=(0,m.t)(),[t,r]=(0,n.useState)(void 0),[l,d]=(0,n.useState)([]),[u,x]=(0,n.useState)(!1),[h,p]=(0,N.Z)(u),f=(0,c.useRouter)(),{isLg:v}=(0,k.Z)();(0,n.useEffect)(()=>{v&&x(!0)},[v]);let[y,j]=(0,n.useState)({search:void 0,category:void 0,type:void 0,modifiedByUser:!1}),[S,L]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{if(y&&y.modifiedByUser){let{search:e,category:t,type:r}=y,i={};e&&(i={...i,search:e}),t&&t.length&&(i={...i,category:t.join(",")}),r&&(i={...i,type:r}),f.push({pathname:"/explore",query:(0,a.Z)(i)?void 0:{...i}})}},[y]),(0,n.useEffect)(()=>{!y.modifiedByUser&&f.query&&(j({search:f.query.search?f.query.search.toString():void 0,category:f.query.category?f.query.category.toString().split(","):void 0,type:f.query.type?f.query.type.toString():void 0,modifiedByUser:y.modifiedByUser}),d(f.query.category?f.query.category.toString().split(","):[]))},[f.query]),v)?(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{ref:h,className:"sticky top-0 z-10",children:(0,i.jsxs)("div",{className:(0,a.cn)("p-4 ",s.N),children:[(0,i.jsx)("div",{className:"max-w-xl w-full",children:(0,i.jsx)(g,{router:f,setSearchTerm:r,searchTerm:t,loading:!!f.query.search&&S,setParams:j})}),(0,i.jsx)(Z,{setCategory:d,router:f,setParams:j,params:y})]})}),(0,i.jsxs)("div",{className:"flex w-full z-0",children:[(0,i.jsxs)("div",{style:{alignSelf:"flex-start",top:p},className:"max-w-xs sticky flex-grow px-4 pb-4",children:[(0,i.jsx)("div",{className:"font-semibold pb-2",children:"Filters"}),(0,i.jsx)("div",{className:"w-full",children:(0,i.jsxs)(C.Z,{className:"md:p-4",children:[(0,i.jsx)(w,{params:y,setParams:j}),(0,i.jsx)(b,{category:l,setCategory:d,setParams:j})]})})]}),(0,i.jsxs)("div",{className:"flex-grow px-4 pb-4 w-full",children:[(0,i.jsx)("div",{style:{alignSelf:"flex-start",top:p},className:(0,a.cn)("sticky flex-grow pb-1 z-10",s.N),children:(0,i.jsx)("div",{className:"font-semibold",children:"Chatbots"})}),(0,i.jsx)("div",{className:"pt-1 overflow-none",children:(0,i.jsx)(o,{params:y,userId:(null==e?void 0:e.id)||"",setSearchLoading:L})})]})]})]}):(0,i.jsxs)(n.Fragment,{children:[(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsx)("div",{className:"hidden md:block flex-grow max-w-sm",children:(0,i.jsx)(g,{router:f,setSearchTerm:r,searchTerm:t,loading:!!f.query.search&&S,setParams:j})}),(0,i.jsx)("div",{className:"hidden md:block flex-grow",children:(0,i.jsx)(b,{category:l,setCategory:d,setParams:j,isMobile:!0})}),(0,i.jsx)("div",{className:"h-10",children:(0,i.jsx)("div",{className:"h-10 border border-primary-600 flex items-center rounded-lg p-1 bg-primary-800 dark:bg-primary-700 gap-2",children:(0,i.jsx)(w,{params:y,setParams:j,isMobile:!0})})})]}),(0,i.jsx)("div",{className:"md:hidden w-full mt-4",children:(0,i.jsx)(g,{router:f,setParams:j,setSearchTerm:r,searchTerm:t,loading:!!f.query.search&&S})}),(0,i.jsx)("div",{className:"md:hidden w-full mt-4",children:(0,i.jsx)(b,{category:l,setCategory:d,setParams:j,isMobile:!0})}),(0,i.jsx)("div",{className:"pb-4",children:(0,i.jsx)(Z,{setCategory:d,router:f,setParams:j,params:y})}),(0,i.jsx)(o,{params:y,userId:(null==e?void 0:e.id)||"",setSearchLoading:L})]})},Z=e=>{var t,r,s,n,a;let{setCategory:l,router:o,setParams:c,params:u}=e;return(0,i.jsx)("div",{className:"flex flex-row gap-3 items-center",children:(0,i.jsxs)(d.M,{children:[o.query.type&&o.query.type.length>0&&(0,i.jsx)(L,{selectedQuery:null===(t=o.query.type)||void 0===t?void 0:t.toString(),displayText:null===(r=o.query.type)||void 0===r?void 0:r.toString().toLowerCase(),onClick:()=>{c({...u,type:void 0,modifiedByUser:!0})}}),o.query.search&&o.query.search.length>0&&(0,i.jsx)(L,{selectedQuery:null===(s=o.query.search)||void 0===s?void 0:s.toString(),onClick:()=>c({...u,search:"",modifiedByUser:!0})}),o.query.category&&o.query.category.length>0&&(0,i.jsx)(L,{selectedQuery:null===(n=o.query.category)||void 0===n?void 0:n.toString(),displayText:null===(a=o.query.category)||void 0===a?void 0:a.toString().toLowerCase().replaceAll("_"," ").replaceAll(",",", "),onClick:()=>{l([]),c({...u,category:[],modifiedByUser:!0})}})]})})},L=e=>{let{selectedQuery:t,displayText:r,...s}=e;return t?(0,i.jsxs)(u.E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},onClick:s.onClick,className:(0,a.cn)("flex gap-1 items-center","px-2","cursor-pointer text-sm rounded-lg","bg-primary-650 text-primary-50 ","hover:bg-primary-600","transition duration-200 ease-in-out","mt-3"),children:[null!=r?r:t,(0,i.jsx)("span",{children:(0,i.jsx)(x.bM,{size:"sm"})})]},t.toLowerCase()):(0,i.jsx)(i.Fragment,{})},q=e=>{let{children:t,selected:r=!1,onClick:s}=e;return(0,i.jsx)("div",{onClick:s,className:(0,a.cn)("px-2 text-sm rounded-lg border border-primary-700","cursor-pointer",r?"text-primary-50 bg-primary-600":"text-primary-300 bg-primary-800"),children:t})};var B=!0;function E(e){let{path:t,search:r,category:n}=e;return(0,c.useRouter)(),(0,i.jsx)(s.Z,{header:{title:"Explore Chatbots",mobileTitle:"Explore"},content:{padding:!0,css:"lg:p-0"},children:(0,i.jsx)(S,{})})}}},function(e){e.O(0,[8907,4885,5445,8307,9879,6430,4084,378,5675,2854,2646,7768,5591,7327,2478,2551,5917,5424,3413,6634,8898,220,5151,4430,9774,2888,179],function(){return e(e.s=66117)}),_N_E=e.O()}]);